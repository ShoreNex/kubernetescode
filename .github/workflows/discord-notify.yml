name: Notify Discord on Push

on:
  push:
    branches:
      - main  # for the main branch

jobs:
  notify:
    runs-on: ubuntu-latest

    steps:
    - name: discord-webhook
      uses: johnnyhuy/actions-discord-git-webhook@v1.0.1
      with:
        webhook_url: ${{ secrets.DISCORD_WEBHOOK }}  # Correct input key
        message: '**🚀 New Commit Alert in `${{ github.repository }}`!**\n\n✨ A fresh commit has just been pushed! 🎉\n\n**🔍 Commit Details:**\n> **Message:** "${{ github.event.head_commit.message }}"  \n> **Author:** `${{ github.event.head_commit.author.name }}`  \n> **Date:** `${{ github.event.head_commit.timestamp }} `\n\nStay tuned for more updates! 👀'
