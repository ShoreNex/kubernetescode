name: Notify Discord on Push

on:
  push:
    branches:
      - main  # for the main branch

jobs:
  notify:
    runs-on: ubuntu-latest

    steps:
    - name: discord-webhook
      uses: johnnyhuy/actions-discord-git-webhook@v1.0.1
      with:
        webhook_url: ${{ secrets.DISCORD_WEBHOOK }}  # addes new secret key 
        args: |
          --message '**🚀 New Commit Alert in `${{ github.repository }}`!**  
          ✨ A fresh commit has just been pushed! 🎉  
          **🔍 Commit Details:**  
          > **Message:** "${{ github.event.head_commit.message }}"  
          > **Author:** `${{ github.event.head_commit.author.name }}`  
          > **Date:** `${{ github.event.head_commit.timestamp }}`  
          Stay tuned for more updates! 👀'
